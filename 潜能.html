<!DOCTYPE html>
<html style="min-width: 700px">
<head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="https://apps.bdimg.com/libs/bootstrap/3.2.0/css/bootstrap.min.css">
    <script src="https://cdn.staticfile.org/jquery/1.10.2/jquery.min.js"></script>
    <script src="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="h5.js"></script>
    <style>
        .container th, .container td{
            width: 5%;
        }
        .btnActive{
            background-color: #E6E6E6;
        }
    </style>
</head>
<body>


    <h1>111111111111</h1>
<button class="btn" onclick="startMission()">刷一次</button>
    <button class="btn" onclick="getPot()">130潜能</button>

</body>

</html>

<script>

        var userID = 114181;
        var session = '9fbfee036ad3852ad6abd762daa18044';
        var publicKey = 'MFswDQYJKoZIhvcNAQEBBQADSgAwRwJAa4OR+lsJwHqLL/1yODqxNSjLVrkkjsTGktnGIPxtunGHtPz8GYcKen/khFNNiBoN2mFHjvcCT8Oi72OREfsBKQIDAQAB';


        var startMission = function(){
            $.ajax({
                type: "POST",
                url: "https://h5.mkjump.com/4399a/api/h5/start_mission",
                data: JSON.stringify({"type":4}),
                beforeSend: function(request) {
                    request.setRequestHeader('Host', 'h5.mkjump.com');
                    request.setRequestHeader('Connection', 'keep-alive');
                    request.setRequestHeader('Origin', 'https://h5.mkjump.com',);
                    request.setRequestHeader('User-Agent', 'Mozilla/5.0 (iPhone; CPU iPhone OS 10_3 like Mac OS X) AppleWebKit/602.1.50 (KHTML, like Gecko) CriOS/56.0.2924.75 Mobile/14E5239e Safari/602.1',);
                    request.setRequestHeader('Content-Type', 'text/plain;charset=UTF-8');
                    request.setRequestHeader('userid', userID);
                    request.setRequestHeader('channel', 4399);
                    request.setRequestHeader('session', session);
                    request.setRequestHeader('Accept', '*/*',);
                    request.setRequestHeader('Referer', 'https://h5.mkjump.com/4399/?account=18500207339&gameId=100053926&nick=18500207339&userId=2918605775&userName=18500207339&time=1551238432&sign=890874108899f939379bca664419d8d3&shareId=2918571599&extra=&pc=0&addiction=0');
                    request.setRequestHeader('Accept-Encoding', 'gzip, deflate, br');
                    request.setRequestHeader('Accept-Language', 'zh-CN,zh;q=0.9');
                },
                success: function(result) {
                    console.log(result);
                    checkResult();
                }
            });
        };

        var checkResult = function(){
            $.ajax({
                type: "POST",
                url: "https://h5.mkjump.com/4399a/api/h5/check_rlt",
                data: JSON.stringify({"data":"WSXPF2khGbn57Bn/3dYAQ7F5j45yXrnuenL0mJ32jvcRVKNNIwlFH1WZjXdQ5q2CRNqm8JgfbdHGy5tzq9vzw03P8ZF5UNm5bsGxD8TpBPFBiGbuO8Wo23NUlabbJLfWC+0SCAvYjEtl9bUP1NJWzZK1tm8fE/6XSAj8ROQiF3UeHwwtYm7f1Wh7FqwEinK+dVv8ghJNpfjwIRPTXfRpERqAPSuUgXBG0r5Yp9Sb/1Cu8DFH9Irw++6JBQaSjGqD"}),
                beforeSend: function(request) {
                    request.setRequestHeader('Host', 'h5.mkjump.com');
                    request.setRequestHeader('Connection', 'keep-alive');
                    request.setRequestHeader('Origin', 'https://h5.mkjump.com',);
                    request.setRequestHeader('User-Agent', 'Mozilla/5.0 (iPhone; CPU iPhone OS 10_3 like Mac OS X) AppleWebKit/602.1.50 (KHTML, like Gecko) CriOS/56.0.2924.75 Mobile/14E5239e Safari/602.1',);
                    request.setRequestHeader('Content-Type', 'text/plain;charset=UTF-8');
                    request.setRequestHeader('userid', userID);
                    request.setRequestHeader('channel', 4399);
                    request.setRequestHeader('session', session);
                    request.setRequestHeader('Accept', '*/*',);
                    request.setRequestHeader('Referer', 'https://h5.mkjump.com/4399/?account=18500207339&gameId=100053926&nick=18500207339&userId=2918605775&userName=18500207339&time=1551238432&sign=890874108899f939379bca664419d8d3&shareId=2918571599&extra=&pc=0&addiction=0');
                    request.setRequestHeader('Accept-Encoding', 'gzip, deflate, br');
                    request.setRequestHeader('Accept-Language', 'zh-CN,zh;q=0.9');
                },
                success: function(result) {
                    finishMission();
                }
            });
        };

        var finishMission = function(){
            $.ajax({
                type: "POST",
                url: "https://h5.mkjump.com/4399a/api/h5/finish_mission",
                data: JSON.stringify({"type":4}),
                beforeSend: function(request) {
                    request.setRequestHeader('Host', 'h5.mkjump.com');
                    request.setRequestHeader('Connection', 'keep-alive');
                    request.setRequestHeader('Origin', 'https://h5.mkjump.com',);
                    request.setRequestHeader('User-Agent', 'Mozilla/5.0 (iPhone; CPU iPhone OS 10_3 like Mac OS X) AppleWebKit/602.1.50 (KHTML, like Gecko) CriOS/56.0.2924.75 Mobile/14E5239e Safari/602.1',);
                    request.setRequestHeader('Content-Type', 'text/plain;charset=UTF-8');
                    request.setRequestHeader('userid', userID);
                    request.setRequestHeader('channel', 4399);
                    request.setRequestHeader('session', session);
                    request.setRequestHeader('Accept', '*/*',);
                    request.setRequestHeader('Referer', 'https://h5.mkjump.com/4399/?account=18500207339&gameId=100053926&nick=18500207339&userId=2918605775&userName=18500207339&time=1551238432&sign=890874108899f939379bca664419d8d3&shareId=2918571599&extra=&pc=0&addiction=0');
                    request.setRequestHeader('Accept-Encoding', 'gzip, deflate, br');
                    request.setRequestHeader('Accept-Language', 'zh-CN,zh;q=0.9');
                },
                success: function(result) {
//                    startMission();
                }
            });
        };

        var getPot = function(){
            $.ajax({
                type: "POST",
                url: "https://h5.mkjump.com/4399a/api/h5/check_rlt",
                data: JSON.stringify({"data":"UW0slpuN8hdriCRcyv89 b0NXEE7lbJuBIeXb1AMNdP7H 6bp0ocEwYRsgC0aDu/1hIx3Ok3hhVmX9JLB Tgp0gS6UYg5 UhVHffBHJ3KXNy0BtrEq6qJ3w vyvjfq740CN5YxOQJV8B3/XCu4zr1vaWdhH0Oien/ahUh2AwI48s6Oiil0kanyfHcR7Ni1Pkoq7BXxHXpzgITxymhVgY/KZInxAvUY6w4jEOY5asc38kKZUcaEEmCunBNHfut3Aj"}),
                beforeSend: function(request) {
                    request.setRequestHeader('Host', 'h5.mkjump.com');
                    request.setRequestHeader('Connection', 'keep-alive');
                    request.setRequestHeader('Origin', 'https://h5.mkjump.com');
                    request.setRequestHeader('User-Agent', 'Mozilla/5.0 (iPhone; CPU iPhone OS 10_3 like Mac OS X) AppleWebKit/602.1.50 (KHTML, like Gecko) CriOS/56.0.2924.75 Mobile/14E5239e Safari/602.1',);
                    request.setRequestHeader('Content-Type', 'text/plain;charset=UTF-8');
                    request.setRequestHeader('userid', userID);
                    request.setRequestHeader('channel', 4399);
                    request.setRequestHeader('session', session);
                    request.setRequestHeader('Accept', '*/*');
                    request.setRequestHeader('Referer', 'https://h5.mkjump.com/4399/?account=18500207339&gameId=100053926&nick=18500207339&userId=2918605775&userName=18500207339&time=1551238432&sign=890874108899f939379bca664419d8d3&shareId=2918571599&extra=&pc=0&addiction=0');
                    request.setRequestHeader('Accept-Encoding', 'gzip, deflate, br');
                    request.setRequestHeader('Accept-Language', 'zh-CN,zh;q=0.9');
                },
                success: function(result) {
//                    startMission();
                }
            });
        };



        var encrypt = new JSEncrypt;
        encrypt.setPublicKey(publicKey);
        var result = encrypt.encryptLong({type: 1});
        console.log(result);







</script>